(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{145:function(e,t,n){},146:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){"use strict";n.r(t);n(145),n(146);var a,r=n(8),c=n(236),i=n(261),o=n(242),l=n(252),s=n(18),u=n.n(s),d=n(14),j=n(32);!function(e){e.ID="id",e.NAME="name",e.COORDINATES_X="coordinates.x",e.COORDINATES_Y="coordinates.y",e.CREATION_DATE="creationDate",e.FROM_X="from.x",e.FROM_Y="from.y",e.FROM_NAME="from.name",e.TO_X="to.x",e.TO_Y="to.y",e.TO_Z="to.z",e.DISTANCE="distance"}(a||(a={}));var b,O=Object.values(a).reduce((function(e,t){return e[t]={sorting:"",value:""},e}),{}),f=function(e){return x(e.split(".")[0])},h=function(e){return x(e.split(".")[1])},x=([{label:"Id",fields:[{fieldName:"id",value:null,sorting:""}]},{label:"Name",fields:[{fieldName:"name",value:null,sorting:""}]},{label:"Coordinates",fields:[{label:"X",fieldName:"coordinates.x",value:null,sorting:""},{label:"Y",fieldName:"coordinates.y",value:null,sorting:""}]},{label:"From",fields:[{label:"X",fieldName:"from.x",value:null,sorting:""},{label:"Y",fieldName:"from.y",value:null,sorting:""},{label:"Name",fieldName:"from.name",value:null,sorting:""}]},{label:"To",fields:[{label:"X",fieldName:"to.x",value:null,sorting:""},{label:"Y",fieldName:"to.y",value:null,sorting:""},{label:"Z",fieldName:"to.z",value:null,sorting:""}]},{label:"Distance",fields:[{fieldName:"distance",value:null,sorting:""}]}].map((function(e){return e.fields})).flat(2),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.length?e[0].toUpperCase()+e.substring(1).toLowerCase():e}),v=function(e,t){var n=e.headers.get("content-type");if(!n)return!1;switch(t){case"json":return null===n||void 0===n?void 0:n.includes("application/json");case"text":return(null===n||void 0===n?void 0:n.includes("text/html"))||(null===n||void 0===n?void 0:n.includes("text/plain"));default:return!1}},g=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n);case 2:if(!(a=e.sent).ok){e.next=16;break}if(!v(a,"json")){e.next=11;break}return e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 11:return e.next=13,a.text();case 13:return e.abrupt("return",e.sent);case 14:e.next=19;break;case 16:return e.next=18,a.text();case 18:throw e.sent;case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=n(110),m="/routes-service/api/routes",C={getRoutes:function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(p.stringify)(Object(d.a)({sort:t.sort,limit:t.limit||10,offset:t.offset||0},t.filter)),e.next=3,g("".concat(m,"?").concat(n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getRouteById:function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("".concat(m,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addRoute:function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("".concat(m),{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateRoute:function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("".concat(m,"/").concat(t.id),{method:"PUT",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteRouteById:function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("".concat(m,"/").concat(t),{method:"DELETE"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteWithDistance:function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("".concat(m,"/delete-with-distance?distance=").concat(t),{method:"DELETE"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),countShorterThan:function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("".concat(m,"/count-shorter-than?distance=").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getWithMinDistance:function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("".concat(m,"/min-distance"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},S=n(267),y=n(266),R=n(259),D=n(0),F=n.n(D),N=n(255),E=n(1),w=function(e){var t=e.isOpen,n=e.onClose,a=Object(D.useState)(),s=Object(r.a)(a,2),u=s[0],d=s[1],j=Object(D.useState)(),b=Object(r.a)(j,2),O=b[0],f=b[1],h=Object(D.useState)(),x=Object(r.a)(h,2),v=x[0],g=x[1];return Object(E.jsxs)(c.a,{open:t,onClose:n,children:[Object(E.jsx)(R.a,{children:"Count Routes shorter than ..."}),Object(E.jsx)(i.a,{children:Object(E.jsxs)(o.a,{spacing:1,children:[Object(E.jsx)(N.a,{value:u||"",onChange:function(e){return d(parseInt(e.target.value,10))},fullWidth:!0,type:"number",size:"small",label:"Distance",required:!0}),O&&Object(E.jsxs)(l.a,{severity:"success",children:["Count: ",O]}),v&&Object(E.jsx)(l.a,{severity:"error",children:v})]})}),Object(E.jsxs)(y.a,{children:[Object(E.jsx)(S.a,{onClick:n,children:"Cancel"}),Object(E.jsx)(S.a,{onClick:function(){return void 0!=u&&function(e){C.countShorterThan(e).then((function(e){f(e),g(void 0)})).catch((function(e){return g(e)}))}(u)},disabled:void 0==u,children:"Submit"})]})]})},I=function(){var e=Object(D.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(S.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){return a(!0)},children:"Count Routes shorter than ..."}),n&&Object(E.jsx)(w,{isOpen:n,onClose:function(){return a(!1)}})]})},T=function(e){var t,n,a,r=e.route;return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{children:["ID: ",r.id]}),Object(E.jsxs)("div",{children:["Name: ",r.name]}),Object(E.jsxs)("div",{children:["Coordinates: ","(".concat(r.coordinates.x,";").concat(r.coordinates.y,")")]}),Object(E.jsxs)("div",{children:["From:"," ",r.from?"".concat(null===(t=r.from)||void 0===t?void 0:t.name,"(").concat(null===(n=r.from)||void 0===n?void 0:n.x,";").concat(null===(a=r.from)||void 0===a?void 0:a.y,")"):"Empty"]}),Object(E.jsxs)("div",{children:["To: ","(".concat(r.to.x,";").concat(r.to.y,";").concat(r.to.z,")")]}),Object(E.jsxs)("div",{children:["Distance: ",r.distance]}),Object(E.jsxs)("div",{children:["Creation Date: ",new Date(r.creationDate).toLocaleDateString("ru")]})]})},A=function(e){var t=e.isOpen,n=e.onClose,a=Object(D.useState)(),s=Object(r.a)(a,2),u=s[0],d=s[1],j=Object(D.useState)(),b=Object(r.a)(j,2),O=b[0],f=b[1],h=Object(D.useState)(),x=Object(r.a)(h,2),v=x[0],g=x[1];return Object(E.jsxs)(c.a,{open:t,onClose:n,children:[Object(E.jsx)(R.a,{children:"Delete Route with Distance = ..."}),Object(E.jsx)(i.a,{children:Object(E.jsxs)(o.a,{spacing:1,children:[Object(E.jsx)(N.a,{value:u||"",onChange:function(e){return d(+e.target.value)},fullWidth:!0,type:"number",size:"small",label:"Distance",required:!0}),O&&Object(E.jsxs)(l.a,{severity:"success",children:[Object(E.jsx)("div",{children:"Deleted route:"}),Object(E.jsx)(T,{route:O})]}),v&&Object(E.jsx)(l.a,{severity:"error",children:v})]})}),Object(E.jsxs)(y.a,{children:[Object(E.jsx)(S.a,{onClick:n,children:"Cancel"}),Object(E.jsx)(S.a,{onClick:function(){return void 0!=u&&function(e){C.deleteWithDistance(e).then((function(e){f(e),g(void 0)})).catch((function(e){return g(e)}))}(u)},disabled:void 0==u,children:"Submit"})]})]})},_=function(){var e=Object(D.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(S.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){return a(!0)},children:"Delete Route with Distance = ..."}),n&&Object(E.jsx)(A,{isOpen:n,onClose:function(){return a(!1)}})]})},k=function(e){var t=e.isOpen,n=e.onClose,a=Object(D.useState)(),s=Object(r.a)(a,2),u=s[0],d=s[1],j=Object(D.useState)(),b=Object(r.a)(j,2),O=b[0],f=b[1],h=Object(D.useState)(),x=Object(r.a)(h,2),v=x[0],g=x[1];return Object(E.jsxs)(c.a,{open:t,onClose:n,children:[Object(E.jsx)(R.a,{children:"Get Route by Id"}),Object(E.jsx)(i.a,{children:Object(E.jsxs)(o.a,{spacing:1,children:[Object(E.jsx)(N.a,{value:u||"",onChange:function(e){return d(parseInt(e.target.value,10))},fullWidth:!0,type:"number",size:"small",label:"Id",required:!0}),O&&Object(E.jsx)(l.a,{severity:"info",children:Object(E.jsx)(T,{route:O})}),v&&Object(E.jsx)(l.a,{severity:"error",children:v})]})}),Object(E.jsxs)(y.a,{children:[Object(E.jsx)(S.a,{onClick:n,children:"Cancel"}),Object(E.jsx)(S.a,{onClick:function(){return void 0!=u&&function(e){C.getRouteById(e).then((function(e){f(e),g(void 0)})).catch((function(e){return g(e)}))}(u)},disabled:void 0==u,children:"Submit"})]})]})},M=function(){var e=Object(D.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(S.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){return a(!0)},children:"Get Route by ID"}),n&&Object(E.jsx)(k,{isOpen:n,onClose:function(){return a(!1)}})]})},P=function(e){var t=e.isOpen,n=e.onClose,a=e.route,r=e.error;return Object(E.jsxs)(c.a,{open:t,onClose:n,children:[Object(E.jsx)(R.a,{children:"Route with Min Distance"}),Object(E.jsxs)(i.a,{children:[a&&Object(E.jsx)(l.a,{severity:"success",children:Object(E.jsx)(T,{route:a})}),r&&Object(E.jsx)(l.a,{severity:"error",children:r})]}),Object(E.jsx)(y.a,{children:Object(E.jsx)(S.a,{onClick:n,children:"Close"})})]})},z=function(){var e=Object(D.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1],c=Object(D.useState)(),i=Object(r.a)(c,2),o=i[0],l=i[1],s=Object(D.useState)(),u=Object(r.a)(s,2),d=u[0],j=u[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(S.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){C.getWithMinDistance().then((function(e){l(e)})).catch((function(e){return j(e)})).finally((function(){return a(!0)}))},children:"Get Route with Min Distance"}),n&&Object(E.jsx)(P,{isOpen:n,onClose:function(){a(!1),j(void 0),l(void 0)},route:o,error:d})]})},X=function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(o.a,{spacing:1,direction:"row",children:[Object(E.jsx)(M,{}),Object(E.jsx)(_,{}),Object(E.jsx)(I,{}),Object(E.jsx)(z,{})]})})},W=n(275),Y=n(4),L=function(e){var t,n,a,l,s,u,j,b,O=e.route,f=e.isOpen,h=e.onSubmit,x=e.onClose,v=Object(D.useState)(O),g=Object(r.a)(v,2),p=g[0],m=g[1];return Object(E.jsxs)(c.a,{open:f,onClose:x,children:[Object(E.jsxs)(R.a,{children:[p.id?"Edit":"Add"," Route"]}),Object(E.jsx)(i.a,{children:Object(E.jsxs)(o.a,{spacing:1,children:[p.id&&Object(E.jsxs)("div",{children:["ID: ",p.id]}),Object(E.jsx)("div",{children:"Name"}),Object(E.jsx)(N.a,{value:p.name||"",onChange:function(e){return m((function(t){return Object(d.a)(Object(d.a)({},t),{},{name:e.target.value})}))},fullWidth:!0,size:"small",label:"Name",required:!0}),Object(E.jsx)("div",{children:"Coordinates"}),Object(E.jsxs)(o.a,{direction:"row",alignItems:"center",spacing:.5,children:["(",Object(E.jsx)(N.a,{value:(null===(t=p.coordinates)||void 0===t?void 0:t.x)||"",onChange:function(e){return m((function(t){return Object(d.a)(Object(d.a)({},t),{},{coordinates:Object(d.a)(Object(d.a)({},t.coordinates),{},{x:+e.target.value})})}))},size:"small",type:"number",label:"X",required:!0}),";",Object(E.jsx)(N.a,{value:(null===(n=p.coordinates)||void 0===n?void 0:n.y)||"",onChange:function(e){return m((function(t){return Object(d.a)(Object(d.a)({},t),{},{coordinates:Object(d.a)(Object(d.a)({},t.coordinates),{},{y:+e.target.value})})}))},size:"small",type:"number",label:"Y",required:!0}),")"]}),Object(E.jsx)("div",{children:"From"}),Object(E.jsxs)(o.a,{direction:"row",alignItems:"center",spacing:.5,children:[Object(E.jsx)(N.a,{value:(null===(a=p.from)||void 0===a?void 0:a.name)||"",onChange:function(e){return m((function(t){return Object(d.a)(Object(d.a)({},t),{},{from:Object(d.a)(Object(d.a)({},t.from),{},{name:e.target.value})})}))},size:"small",label:"Name"}),"(",Object(E.jsx)(N.a,{value:(null===(l=p.from)||void 0===l?void 0:l.x)||"",onChange:function(e){return m((function(t){return Object(d.a)(Object(d.a)({},t),{},{from:Object(d.a)(Object(d.a)({},t.from),{},{x:+e.target.value})})}))},size:"small",type:"number",label:"X"}),";",Object(E.jsx)(N.a,{value:(null===(s=p.from)||void 0===s?void 0:s.y)||"",onChange:function(e){return m((function(t){return Object(d.a)(Object(d.a)({},t),{},{from:Object(d.a)(Object(d.a)({},t.from),{},{y:+e.target.value})})}))},size:"small",type:"number",label:"Y"}),")"]}),Object(E.jsx)("div",{children:"To"}),Object(E.jsxs)(o.a,{direction:"row",alignItems:"center",spacing:.5,children:["(",Object(E.jsx)(N.a,{value:(null===(u=p.to)||void 0===u?void 0:u.x)||"",onChange:function(e){return m((function(t){return Object(d.a)(Object(d.a)({},t),{},{to:Object(d.a)(Object(d.a)({},t.to),{},{x:+e.target.value})})}))},size:"small",type:"number",label:"X",required:!0}),";",Object(E.jsx)(N.a,{value:(null===(j=p.to)||void 0===j?void 0:j.y)||"",onChange:function(e){return m((function(t){return Object(d.a)(Object(d.a)({},t),{},{to:Object(d.a)(Object(d.a)({},t.to),{},{y:+e.target.value})})}))},size:"small",type:"number",label:"Y",required:!0}),";",Object(E.jsx)(N.a,{value:(null===(b=p.to)||void 0===b?void 0:b.z)||"",onChange:function(e){return m((function(t){return Object(d.a)(Object(d.a)({},t),{},{to:Object(d.a)(Object(d.a)({},t.to),{},{z:+e.target.value})})}))},size:"small",type:"number",label:"Z",required:!0}),")"]}),Object(E.jsx)("div",{children:"Distance"}),Object(E.jsx)(N.a,{value:p.distance||"",onChange:function(e){return m((function(t){return Object(d.a)(Object(d.a)({},t),{},{distance:+e.target.value})}))},fullWidth:!0,size:"small",type:"number",label:"Distance",required:!0}),Object(E.jsx)("div",{children:"Creation Date"}),Object(E.jsx)("div",{children:p.creationDate?new Date(p.creationDate).toLocaleDateString("ru"):(new Date).toLocaleDateString("ru")})]})}),Object(E.jsxs)(y.a,{children:[Object(E.jsx)(S.a,{onClick:x,children:"Cancel"}),Object(E.jsx)(S.a,{onClick:function(){return h(p)},children:"Submit"})]})]})},V=n(268),q=n(245),B=function(e){var t=e.rowSpan,n=e.colSpan,a=e.text;return Object(E.jsx)(V.a,{style:{height:43*t},children:Object(E.jsx)(q.a,{colSpan:n,align:"center",children:a})})},G={name:void 0,coordinates:void 0,to:void 0,creationDate:null,distance:void 0},Z=n(114),H=n.n(Z),J=n(269),U=n(251),K=function(e){var t=e.page,n=e.rowsPerPage,a=e.count,r=e.hasMore,c=e.onPageChange,i=e.onRowsPerPageChange,o=e.onAdd;return Object(E.jsx)(J.a,{children:Object(E.jsxs)(V.a,{children:[Object(E.jsx)(q.a,{colSpan:2,children:Object(E.jsx)(S.a,{onClick:o,startIcon:Object(E.jsx)(H.a,{}),children:"Add Route"})}),Object(E.jsx)(U.a,{rowsPerPageOptions:[5,10,25],colSpan:6,count:r?-1:a,rowsPerPage:n,page:t,onPageChange:c,onRowsPerPageChange:i,nextIconButtonProps:{disabled:!r}})]})})},Q=n(99),$=n(270),ee=n(249),te=Object(ee.a)(q.a)((function(){return Object(Y.a)({},"&.".concat(Q.a.head),{backgroundColor:"#42a5f5",color:"white",fontWeight:"bold"})})),ne=function(){return Object(E.jsx)($.a,{children:Object(E.jsxs)(V.a,{children:[Object(E.jsx)(te,{size:"small",width:10,children:"Id"}),Object(E.jsx)(te,{align:"right",children:"Name"}),Object(E.jsx)(te,{align:"right",children:"Coordinates (X;Y)"}),Object(E.jsx)(te,{align:"right",children:"From Name(X;Y)"}),Object(E.jsx)(te,{align:"right",children:"To (X;Y;Z)"}),Object(E.jsx)(te,{align:"right",children:"Distance"}),Object(E.jsx)(te,{align:"right",children:"Creation Date"}),Object(E.jsx)(te,{align:"right"})]})})},ae=n(265),re=n(36),ce={getRoutes:Object(re.b)("routes/get",C.getRoutes),updateRoute:Object(re.b)("routes/update",C.updateRoute),deleteRoute:Object(re.b)("routes/delete",C.deleteRouteById)},ie=n(66),oe=function(){return Object(ie.b)()},le=ie.c,se=n(117),ue=n.n(se),de=n(116),je=n.n(de),be=function(e){var t,n,a,r=e.route,c=e.index,i=e.onEdit,o=oe();return Object(E.jsxs)(V.a,{hover:!0,children:[Object(E.jsx)(q.a,{size:"small",children:r.id}),Object(E.jsx)(q.a,{align:"right",children:r.name}),Object(E.jsx)(q.a,{align:"right",children:"(".concat(r.coordinates.x,";").concat(r.coordinates.y,")")}),Object(E.jsx)(q.a,{align:"right",children:r.from?"".concat(null===(t=r.from)||void 0===t?void 0:t.name,"(").concat(null===(n=r.from)||void 0===n?void 0:n.x,";").concat(null===(a=r.from)||void 0===a?void 0:a.y,")"):"Empty"}),Object(E.jsx)(q.a,{align:"right",children:"(".concat(r.to.x,";").concat(r.to.y,";").concat(r.to.z,")")}),Object(E.jsx)(q.a,{align:"right",children:r.distance}),Object(E.jsx)(q.a,{align:"right",children:new Date(r.creationDate).toLocaleDateString("ru")}),Object(E.jsxs)(q.a,{align:"right",children:[Object(E.jsx)(ae.a,{onClick:function(){return i(c)},size:"small",children:Object(E.jsx)(je.a,{fontSize:"small"})}),Object(E.jsx)(ae.a,{onClick:function(){r.id&&o(ce.deleteRoute(r.id))},size:"small",children:Object(E.jsx)(ue.a,{fontSize:"small"})})]})]})};!function(e){e[e.IDLE=0]="IDLE",e[e.FETCHING=1]="FETCHING",e[e.LOADED=2]="LOADED",e[e.ERROR=3]="ERROR"}(b||(b={}));var Oe={entities:[],status:b.IDLE,hasMore:!0},fe=Object(re.c)({name:"routes",initialState:Oe,reducers:{},extraReducers:function(e){return e.addCase(ce.getRoutes.pending,(function(e){e.status=b.FETCHING})).addCase(ce.getRoutes.fulfilled,(function(e,t){e.status=b.LOADED;var n=t.meta.arg;0==n.offset?(e.entities=t.payload,e.hasMore=!0):e.entities.length==n.offset&&(e.entities=e.entities.concat(t.payload)),t.payload.length<(n.limit||5)&&(e.hasMore=!1)})).addCase(ce.getRoutes.rejected,(function(e){e.status=b.ERROR})).addCase(ce.updateRoute.pending,(function(e){e.status=b.FETCHING})).addCase(ce.updateRoute.fulfilled,(function(e,t){e.status=b.LOADED,e.entities=e.entities.concat(t.payload)})).addCase(ce.updateRoute.rejected,(function(e){e.status=b.ERROR})).addCase(ce.deleteRoute.fulfilled,(function(e,t){var n=e.entities.findIndex((function(e){return e.id==t.payload.id}));e.entities.splice(n,1)}))}}).reducer,he=n(82),xe=n(125),ve=n(272),ge=n(273),pe=n(271),me=function(e){var t=e.page,n=e.onPageChange,a=e.rowsPerPage,c=e.onRowsPerPageChange,i=oe(),o=Object(he.b)().enqueueSnackbar,l=le((function(e){return e.routes})),s=l.status,u=l.entities,d=l.hasMore,j=Object(D.useState)(),O=Object(r.a)(j,2),f=O[0],h=O[1],x=Object(D.useState)(!1),v=Object(r.a)(x,2),g=v[0],p=v[1],m=null!=f?u[f]:G,S=function(e){h(e),p(!0)},y=u.slice(t*a,t*a+a),R=t*a+a<u.length||d;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(pe.a,{component:xe.a,children:Object(E.jsxs)(ve.a,{sx:{minWidth:500},"aria-label":"routes table",size:"small",children:[Object(E.jsx)(ne,{}),Object(E.jsxs)(ge.a,{children:[y.map((function(e,n){return Object(E.jsx)(be,{route:e,index:t+n,onEdit:S},e.id)})),s==b.LOADED&&!u.length&&Object(E.jsx)(V.a,{children:Object(E.jsx)(q.a,{colSpan:8,align:"center",children:"No Routes found"})}),y.length<a&&Object(E.jsx)(B,{rowSpan:a-y.length,colSpan:8,text:s==b.FETCHING?"Loading...":""})]}),Object(E.jsx)(K,{page:t,rowsPerPage:a,onPageChange:n,onRowsPerPageChange:c,onAdd:function(){return p(!0)},hasMore:R,count:u.length})]})}),g&&Object(E.jsx)(L,{route:m,isOpen:g,onSubmit:function(e){null!=f?i(ce.updateRoute(e)):C.addRoute(e).then((function(e){o("Route was added with id = ".concat(e.id),{variant:"success"}),p(!1)})).catch((function(e){return o(String(e),{variant:"error"})}))},onClose:function(){h(null),p(!1)}})]})},Ce=(n(173),n(274)),Se=n(247),ye=n(264),Re=n(256),De=n(250),Fe=n(254),Ne=function(e){var t=e.field,n=e.onChange,a=e.sorting;return Object(E.jsxs)(ye.a,{fullWidth:!0,size:"small",children:[Object(E.jsx)(Re.a,{id:"".concat(t,"-select-label"),children:"Sorting"}),Object(E.jsxs)(De.a,{id:"".concat(t,"-select"),value:a,onChange:function(e){return n(t,e.target.value)},labelId:"".concat(t,"-select-label"),label:"Sorting",children:[Object(E.jsx)(Fe.a,{value:"asc",children:"Asc"}),Object(E.jsx)(Fe.a,{value:"desc",children:"Desc"}),Object(E.jsx)(Fe.a,{value:"",children:"No"})]})]})},Ee=function(e){var t=e.value,n=e.setFieldValue,a=e.fieldName,r=e.label;return Object(E.jsx)(Se.a,{value:t?new Date(t):null,onChange:function(e){return n(a,(null===e||void 0===e?void 0:e.toISOString())||"")},renderInput:function(e){return Object(E.jsx)(N.a,Object(d.a)({fullWidth:!0,size:"small"},e))},label:r})},we=function(e){var t=e.filterSorterField,n=e.fieldName,a=e.setFieldValue,r=e.setFieldSorting,c=e.type,i=e.title,l=e.label;return Object(E.jsxs)(Ce.a,{children:[i&&Object(E.jsx)("div",{className:"section-label",children:i}),Object(E.jsxs)(o.a,{spacing:1,alignItems:"center",children:["date"==c?Object(E.jsx)(Ee,{fieldName:n,setFieldValue:a,value:t.value,label:l}):Object(E.jsx)(N.a,{label:l,value:t.value,onChange:function(e){return a(n,e.target.value)},fullWidth:!0,type:c,size:"small"}),Object(E.jsx)(Ne,{sorting:t.sorting,field:n,onChange:r})]})]})},Ie=function(e){var t=e.filterSorter,n=e.setFieldSorting,r=e.setFieldValue,c=e.getFilteredRoutes,i=e.clearFilter;return Object(E.jsx)(xe.a,{variant:"outlined",className:"sorter",children:Object(E.jsxs)(o.a,{spacing:1,children:[Object(E.jsxs)(o.a,{spacing:1,direction:"row",alignItems:"flex-end",children:[Object(E.jsx)(we,{fieldName:a.ID,setFieldValue:r,filterSorterField:t[a.ID],label:f(a.ID),setFieldSorting:n,type:"number",title:f(a.ID)}),Object(E.jsx)(we,{fieldName:a.NAME,setFieldValue:r,filterSorterField:t[a.NAME],label:f(a.NAME),setFieldSorting:n,type:"text",title:f(a.NAME)}),Object(E.jsx)(we,{fieldName:a.COORDINATES_X,setFieldValue:r,filterSorterField:t[a.COORDINATES_X],label:h(a.COORDINATES_X),setFieldSorting:n,type:"number",title:f(a.COORDINATES_X)}),Object(E.jsx)(we,{fieldName:a.COORDINATES_Y,setFieldValue:r,filterSorterField:t[a.COORDINATES_Y],label:h(a.COORDINATES_Y),setFieldSorting:n,type:"number"}),Object(E.jsx)(we,{fieldName:a.FROM_X,setFieldValue:r,filterSorterField:t[a.FROM_X],label:h(a.FROM_X),setFieldSorting:n,type:"number",title:f(a.FROM_X)}),Object(E.jsx)(we,{fieldName:a.FROM_Y,setFieldValue:r,filterSorterField:t[a.FROM_Y],label:h(a.FROM_Y),setFieldSorting:n,type:"number"}),Object(E.jsx)(we,{fieldName:a.FROM_NAME,setFieldValue:r,filterSorterField:t[a.FROM_NAME],label:h(a.FROM_NAME),setFieldSorting:n,type:"text"}),Object(E.jsx)(we,{fieldName:a.TO_X,setFieldValue:r,filterSorterField:t[a.TO_X],label:h(a.TO_X),setFieldSorting:n,type:"number",title:f(a.TO_X)}),Object(E.jsx)(we,{fieldName:a.TO_Y,setFieldValue:r,filterSorterField:t[a.TO_Y],label:h(a.TO_Y),setFieldSorting:n,type:"number"}),Object(E.jsx)(we,{fieldName:a.TO_Z,setFieldValue:r,filterSorterField:t[a.TO_Z],label:h(a.TO_Z),setFieldSorting:n,type:"number"}),Object(E.jsx)(we,{fieldName:a.DISTANCE,setFieldValue:r,filterSorterField:t[a.DISTANCE],label:f(a.DISTANCE),setFieldSorting:n,type:"number",title:f(a.DISTANCE)}),Object(E.jsx)(we,{fieldName:a.CREATION_DATE,setFieldValue:r,filterSorterField:t[a.CREATION_DATE],label:a.CREATION_DATE,setFieldSorting:n,type:"date",title:a.CREATION_DATE})]}),Object(E.jsx)(S.a,{variant:"contained",fullWidth:!0,onClick:c,children:"Apply"}),Object(E.jsx)(S.a,{variant:"outlined",fullWidth:!0,onClick:i,children:"Clear Filter"})]})})},Te=function(){var e=Object(D.useState)(O),t=Object(r.a)(e,2),n=t[0],c=t[1],i=Object(D.useState)(0),o=Object(r.a)(i,2),l=o[0],s=o[1],u=Object(D.useState)(5),j=Object(r.a)(u,2),b=j[0],f=j[1],h=oe(),x=le((function(e){return e.routes})),v=x.entities,g=x.hasMore,p=function(e,t){var r=function(e){var t=[],n={};return Object.keys(e).forEach((function(r){var c=r,i=e[c].sorting;i&&("desc"==i?t.push("-"+r):t.push(r));var o=e[c].value;o&&(n[c]=c==a.CREATION_DATE?new Date(o).getTime():o)})),{sort:t,filter:n}}(n),c=r.sort,i=r.filter;h(ce.getRoutes({sort:c,filter:i,offset:e,limit:t}))};Object(D.useEffect)((function(){v.length||h(ce.getRoutes({offset:0,limit:b}))}),[]);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ie,{filterSorter:n,setFieldSorting:function(e,t){c(Object(d.a)(Object(d.a)({},n),{},Object(Y.a)({},e,Object(d.a)(Object(d.a)({},n[e]),{},{sorting:t}))))},setFieldValue:function(e,t){c(Object(d.a)(Object(d.a)({},n),{},Object(Y.a)({},e,Object(d.a)(Object(d.a)({},n[e]),{},{value:t}))))},getFilteredRoutes:function(){s(0),p(0,b)},clearFilter:function(){c(O)}}),Object(E.jsx)(me,{page:l,onPageChange:function(e,t){s(t);var n=t*b,a=n+b;if(v.length<a&&g){var r=Math.max(v.length,n),c=Math.min(b,a-v.length);p(r,c)}},rowsPerPage:b,onRowsPerPageChange:function(e){var t=parseInt(e.target.value,10);if(f(t),s(0),v.length<t&&g){var n=v.length,a=t-v.length;p(n,a)}}})]})},Ae=n(246),_e=n(248),ke=function(){return Object(E.jsx)("div",{children:Object(E.jsx)("h1",{children:"Lab #2 (1009.12)"})})},Me=function(){return Object(E.jsx)("div",{className:"layout",children:Object(E.jsx)(W.a,{maxWidth:"xl",children:Object(E.jsx)(Ae.b,{dateAdapter:_e.a,children:Object(E.jsxs)(o.a,{spacing:1,children:[Object(E.jsx)(ke,{}),Object(E.jsx)(X,{}),Object(E.jsx)(Te,{})]})})})})};function Pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var ze=Object(re.b)("counter/fetchCount",function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Xe=Object(re.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(ze.pending,(function(e){e.status="loading"})).addCase(ze.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),We=Xe.actions,Ye=(We.increment,We.decrement,We.incrementByAmount,Xe.reducer),Le=Object(re.a)({reducer:{counter:Ye,routes:fe}}),Ve=n(33);n.n(Ve).a.render(Object(E.jsx)(F.a.StrictMode,{children:Object(E.jsx)(ie.a,{store:Le,children:Object(E.jsx)(he.a,{maxSnack:3,children:Object(E.jsx)(Me,{})})})}),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.409357ce.chunk.js.map